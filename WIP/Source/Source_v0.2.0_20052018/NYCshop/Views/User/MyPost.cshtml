@model PagedList.IPagedList<NYCshop.Models.ProductManagerViewModel>
@using PagedList.Mvc

@{
    ViewBag.Title = "Quản lý tin";
    ViewBag.ParentActionName = "MyPost";
    ViewBag.ParentSelectedFunction = "Quản lý tin";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
}

<style>
    .col {
        width: 200px;
    }

    .book-cover {
        width: 100px;
    }

    .delete-icon, .edit-icon {
        width: 30px;
        cursor: pointer;
    }

    input[type="checkbox"] {
        cursor: pointer;
        transform: scale(1.5);
    }

    .product-image {
        height: 100px;
    }

    .btn-new-post {
        margin-bottom: 15px;
    }
</style>

<div class="col-md-9">
    <div class="box">
        <h3>Quản lý bài tin</h3>

        @if(Model.Count == 0)
        {
            <div class="text-center">
                <h4>Hiện tại bạn có 0 tin. Đăng tin ngay!!</h4>
                <a href="@Url.Action("NewPost")" class="btn btn-primary"><i class="fa fa-cloud-upload"></i>Đăng tin mới</a>
            </div>
            
        }
        else
        {
            <div class="text-right">
                <a href="@Url.Action("NewPost")" class="btn btn-primary"><i class="fa fa-cloud-upload"></i>Đăng tin mới</a><br /><br />
            </div>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>
                            Xóa
                        </th>
                        <th>
                            Sửa
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model[0].Image)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model[0].ProductName)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model[0].Price)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model[0].Quanlity)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model[0].SaleStatus)
                        </th>
                        <th></th>
                    </tr>
                </thead>
                
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td class="col">
                                <a href="#"><img src="~/Images/Icons/delete-icon.png" class="delete-icon" /></a>
                            </td>
                            <td class="col">
                                <a href="@Url.Action("EditProduct", "User", new { item.ProductID }, null)"><img src="~/Images/Icons/edit-icon.png" class="edit-icon" /></a>
                            </td>
                            <td class="col">
                                <img src="@item.Image" class="product-image" />
                            </td>
                            <td class="col">
                                @Html.DisplayFor(modelItem => item.ProductName)
                            </td>
                            <td class="col">
                                @Html.DisplayFor(modelItem => item.Price)
                            </td>
                            <td class="col">
                                @Html.DisplayFor(modelItem => item.Quanlity)
                            </td>
                            <td class="col">
                                @Html.CheckBoxFor(modelItem => item.SaleStatus)
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <label>Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount</label>
            @Html.PagedListPager(Model, page => Url.Action("MyPost", new { page }))
        }
        
    </div>
</div>
